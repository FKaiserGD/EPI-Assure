<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=chrome">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Configure sua conta ou a forma no qual você utiliza o site. (Versão de Administrador)">
    <meta name="theme-color" content="#FFDE59"/>
    <link rel="stylesheet" href="../Assets/css/style.css">
    <link rel="stylesheet" href="../Assets/css/game.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="shortcut icon" href="../Assets/images/AppIcons/favicon.ico" type="image/x-icon">
    <link rel="apple-touch-icon" href="../Assets/images/AppIcons/apple-touch-icon.png" sizes="180x180" type="image/x-icon">
    <title>Ranking</title>
    <!-- Adicionando o DNS-prefetch -->
    <link rel="dns-prefetch" href="https://fonts.googleapis.com">
    <link rel="dns-prefetch" href="https://cdnjs.cloudflare.com">
    <script src="../js/rotas.js"></script>
    <script>
        window.addEventListener('DOMContentLoaded', () => {
          const listaFuncionarios = document.getElementById('lista');
          const funcionarios = Array.from(listaFuncionarios.getElementsByClassName('funcionario'));
    
          const inputPesquisa = document.querySelector('#barra-pesquisa input');
          const selectOrdenacao = document.getElementById('filtro').querySelector('select');
    
          let funcionariosFiltrados = [...funcionarios];
    
          const filtrarFuncionarios = () => {
            const valorPesquisa = inputPesquisa.value.toLowerCase();
    
            funcionariosFiltrados = funcionarios.filter(funcionario => {
              const nomeFuncionario = funcionario.querySelector('.info-funcionario h4').textContent.toLowerCase();
              return nomeFuncionario.includes(valorPesquisa);
            });
    
            ordenarFuncionarios();
          };
    
          const limparFiltro = () => {
            inputPesquisa.value = '';
            funcionariosFiltrados = [...funcionarios];
            ordenarFuncionarios();
          };
    
          const ordenarFuncionarios = () => {
            const valorOrdenacao = selectOrdenacao.value;
    
            funcionariosFiltrados.sort((a, b) => {
              const pontosA = parseInt(a.querySelector('.pontos p').textContent);
              const pontosB = parseInt(b.querySelector('.pontos p').textContent);
    
              if (valorOrdenacao === 'crescente') {
                return pontosA - pontosB;
              } else {
                return pontosB - pontosA;
              }
            });
    
            atualizarListaFuncionarios();
          };
    
          const atualizarListaFuncionarios = () => {
            listaFuncionarios.innerHTML = '';
    
            funcionariosFiltrados.forEach(funcionario => {
              listaFuncionarios.appendChild(funcionario.cloneNode(true));
              listaFuncionarios.appendChild(document.createElement('hr'));
            });
          };
    
          inputPesquisa.addEventListener('input', filtrarFuncionarios);
          selectOrdenacao.addEventListener('change', ordenarFuncionarios);
    
          filtrarFuncionarios();
        });
      </script>
    
</head>

<body>
    <header>
        <img src="../Assets/images/Icones/usuario.webp" alt="imagem do usuário" id="imagem-user">
        <h3>Nome do Administrador</h3>
        <img src="../Assets/images/Icones/helmet.webp" alt="adicionar EPI" id="icone-requer" onclick="admSolicitar()">
    </header>
    <main>
        <div id="titulo">
            <h2>Ranking do Mês</h2>
            <img src="../Assets/images/Icones/trofeu.webp" alt="icone-trofeu" id="icone-trofeu">
        </div>
        <div id="pesquisa">
            <div id="barra-pesquisa">
                <div class="input-wrapper">
                  <input type="text" placeholder="Pesquise um Funcionário">
                  <div class="icon-wrapper">
                    <i class="fa fa-search" onclick="filtrarFuncionarios()"></i>
                  </div>
                </div>
            </div>                 
            <div id="filtro">
                <select onchange="redirectToPage(this.value)">
                  <option value="decrescente" selected>Ordem Decrescente</option>
                  <option value="crescente">Ordem Crescente</option>
                </select>
            </div>
        </div>
        <div id="lista">
            <div class="funcionario">
                <img src="../Assets/images/Icones/usuario.webp" alt="imagem do usuário" id="imagem-user">
                <div class="info-funcionario">
                    <div class="pontos-funcionario">
                        <h4>João Silva</h4>
                        <p>Cargo</p>
                    </div>
                    <div class="pontos">
                        <i class="fa fa-trophy fa-2x"></i>
                        <p>1000 Pts</p>
                    </div>
                </div>
            </div>
            <hr>
            <div class="funcionario">
                <img src="../Assets/images/Icones/usuario.webp" alt="imagem do usuário" id="imagem-user">
                <div class="info-funcionario">
                    <div class="pontos-funcionario">
                        <h4>João Santos</h4>
                        <p>Cargo</p>
                    </div>
                    <div class="pontos">
                        <i class="fa fa-trophy fa-2x"></i>
                        <p>800 Pts</p>
                    </div>
                </div>
            </div>
            <hr>
            <div class="funcionario">
                <img src="../Assets/images/Icones/usuario.webp" alt="imagem do usuário" id="imagem-user">
                <div class="info-funcionario">
                    <div class="pontos-funcionario">
                        <h4>Pedro Costa</h4>
                        <p>Cargo</p>
                    </div>
                    <div class="pontos">
                        <i class="fa fa-trophy fa-2x"></i>
                        <p>600 Pts</p>
                    </div>
                </div>
            </div>
            <hr>
            <div class="funcionario">
                <img src="../Assets/images/Icones/usuario.webp" alt="imagem do usuário" id="imagem-user">
                <div class="info-funcionario">
                    <div class="pontos-funcionario">
                        <h4>Ana Oliveira</h4>
                        <p>Cargo</p>
                    </div>
                    <div class="pontos">
                        <i class="fa fa-trophy fa-2x"></i>
                        <p>400 Pts</p>
                    </div>
                </div>
            </div>
            <hr>
            <div class="funcionario">
                <img src="../Assets/images/Icones/usuario.webp" alt="imagem do usuário" id="imagem-user">
                <div class="info-funcionario">
                    <div class="pontos-funcionario">
                        <h4>Carlos Almeida</h4>
                        <p>Cargo</p>
                    </div>
                    <div class="pontos">
                        <i class="fa fa-trophy fa-2x"></i>
                        <p>200 Pts</p>
                    </div>
                </div>
            </div>
            <hr>
            <div class="funcionario">
                <img src="../Assets/images/Icones/usuario.webp" alt="imagem do usuário" id="imagem-user">
                <div class="info-funcionario">
                    <div class="pontos-funcionario">
                        <h4>Beatriz Rodrigues</h4>
                        <p>Cargo</p>
                    </div>
                    <div class="pontos">
                        <i class="fa fa-trophy fa-2x"></i>
                        <p>100 Pts</p>
                    </div>
                </div>
            </div>
            <hr>
            <div class="funcionario">
                <img src="../Assets/images/Icones/usuario.webp" alt="imagem do usuário" id="imagem-user">
                <div class="info-funcionario">
                    <div class="pontos-funcionario">
                        <h4>Guilherme Souza</h4>
                        <p>Cargo</p>
                    </div>
                    <div class="pontos">
                        <i class="fa fa-trophy fa-2x"></i>
                        <p>50 Pts</p>
                    </div>
                </div>
            </div>
            <hr>
        </div>
    </main>
    <footer>
        <ul>
            <div class="icone">
                <li><i class="fa fa-home fa-2x" onclick="admHome()"></i></li>
                <li class="nome-icone">Home</li>
            </div>
            <div class="icone">
                <li><i class="fa fa-address-book-o fa-2x" onclick="admCheck()"></i></li>
                <li class="nome-icone">Check</li>
            </div>
            <div class="icone">
                <li><i class="fa fa-gamepad fa-2x" style="color: #5A98FF;"></i></li>
                <li class="nome-icone">Rank</li>
            </div>
            <div class="icone">
                <li><i class="fa fa-cog fa-2x" onclick="admConfig()"></i></li>
                <li class="nome-icone">Config.</li>
            </div>
        </ul>
    </footer>
</body>

</html>